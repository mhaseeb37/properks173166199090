<section class="shop-categories-{{ section.id }}">
  <div class="shop-categories-wrapper container container--full-screen section-spacing container--with-aside-paddings">
    <div class="shop-categoires-heading">
      <h2>{{ section.settings.heading }}</h2>
    </div>
    <div class="shop-categories-row desktop-view">
      {% for block in section.blocks %}
        <div class="shop-category-col">
          <a href="{{ block.settings.link }}">
          <div class="overlay-category"></div>
          <div class="category-img">
            <img class="" src="{{ block.settings.image | img_url: 'master' }}">
          </div>
          <div class="category-heading">
            <h3>{{ block.settings.title }}</h3>
          </div>
          </a>
        </div>
      {% endfor %}
    </div>
    <div class="shop-categories-mob-row swiper-container mobile-view">
      <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <div class="shop-category-col swiper-slide">
          <a href="{{ block.settings.link }}">
          <div class="overlay-category"></div>
          <div class="category-img">
            <img class="" src="{{ block.settings.image | img_url: 'master' }}">
          </div>
          <div class="category-heading">
            <h3>{{ block.settings.title }}</h3>
          </div>
          </a>
        </div>
      {% endfor %}
      </div>
      <!-- Pagination Dots -->
      <div class="swiper-pagination"></div>
    </div>
  </div>
</section>

<style>
  .shop-categories-{{ section.id }}{
    width: 100%;
    background-color: {{ section.settings.bg }};
    padding-top: {{ section.settings.padding-top }}px;
    padding-bottom: {{ section.settings.padding-bottom }}px;
  }
  .shop-categoires-heading{
    text-align: center;
  }
  .shop-categoires-heading h2{
font-family: 'Inter', sans-serif;
font-style: normal;
font-weight: 600;
font-size: 32px;
line-height: 50px;
color: #000000;
margin: 0;
    padding-bottom: 50px;
  }
  .shop-categories-row{
    display: flex;
    align-items: flex-start;
    column-gap: 12px;
  }
  .shop-category-col{
    flex: 24.3%;
    max-width: 24.3%;
    position: relative;
    background-color: #fff;
    border-radius: 16px;
  }
  .shop-categories-{{ section.id }} .shop-category-col .overlay-category {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #000;
  opacity: 0.3;
  z-index: 1; 
  display: block;
  border-radius: 16px;
}
  .shop-category-col .category-img img{
    width: 100%;
    height: auto;
    border-radius: 16px;
    background-color: #fff;
    display: block;
  }

  .shop-categories-{{ section.id }} .shop-category-col .category-heading {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  z-index: 2; 
  width: 100%;
}
  .shop-categories-{{ section.id }} .shop-category-col .category-heading h3{
  font-family: 'Inter', sans-serif;
font-style: normal;
font-weight: 600;
font-size: 24px;
line-height: 30px;
color: #F5F5F5;
    margin: 0;
    padding: 0;
  }
  @media(min-width: 768px){
    .mobile-view{
      display: none;
    }
  }
  @media(max-width: 768px){
   .shop-categories-{{ section.id }} {
    padding-top: {{ section.settings.mob-padding-top }}px;
    padding-bottom: {{ section.settings.mob-padding-bottom }}px;
    }
    .desktop-view{
      display: none;
    }
    .shop-categories-mob-row {
      width: 100%;
    }

    .shop-category-col {
      flex: none;
      width: 90%;
      max-width: 90%;
    }
    
   .shop-categories-{{ section.id }} .swiper-pagination {
      position: relative;
      bottom: -25px;
      text-align: center;
    }

   .shop-categories-{{ section.id }} .swiper-pagination-bullet {
      width: 36px;
      height: 3px;
      opacity: 1;
      margin: 0 4px;
     border-radius: 0px;
     background: #c7c7c7;
    }

   .shop-categories-{{ section.id }} .swiper-pagination-bullet-active {
      background-color: #000;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Initialize Swiper for mobile view only
    if (window.innerWidth <= 768) {
      var swiper = new Swiper('.swiper-container', {
        slidesPerView: 1.2,  // Show 1.2 slides
        spaceBetween: 12,    // Gap between slides
        loop: true,          // Enable looping
        pagination: {
          el: '.swiper-pagination',
          clickable: true,   // Enable dots to be clickable
        },
      });
    }
  });
</script>

{% schema %}
  {
    "name": "Shop By Category",
    "settings": [
      {
         "type": "range",
         "id": "padding-top",
         "label": "Padding Top",
         "default": 50,
         "min": 0,
         "max": 100,
         "step": 1,
         "unit": "px"
      },
      {
         "type": "range",
         "id": "padding-bottom",
         "label": "Padding Bottom",
         "default": 50,
         "min": 0,
         "max": 100,
         "step": 1,
         "unit": "px"
      },
      {
         "type": "range",
         "id": "mob-padding-top",
         "label": "Mobile Padding Top",
         "default": 20,
         "min": 0,
         "max": 100,
         "step": 1,
         "unit": "px"
      },
      {
         "type": "range",
         "id": "mob-padding-bottom",
         "label": "Mobile Padding Bottom",
         "default": 20,
         "min": 0,
         "max": 100,
         "step": 1,
         "unit": "px"
      },
      {
        "type": "color",
        "id": "bg",
        "label": "Section Background Color",
        "default": "#F6F6F6"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Shop By Category"
      },
    ],
    "blocks": [
      {
        "type": "category",
        "name": "Category",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image",
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title"
          },
          {
            "type": "url",
            "id": "url",
            "label": "Link"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Shop By Category",
        "settings": {}
      }
    ]
  }
{% endschema %}